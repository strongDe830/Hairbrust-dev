window.Herd.utils.sectionRenderer=new class{async fetch(t,e=this.sectionsUrl){"string"==typeof t&&(t=[t]);const[r,n=""]=e.split("?"),o=new URLSearchParams(n);return o.append("sections",t.join(",")),(await fetch(`${r}?${o.toString()}`)).json()}async fetchSingle(t,e=window.location.pathname){const[r,n=""]=e.split("?"),o=new URLSearchParams(n);return o.set("section_id",t),(await fetch(`${r}?${o.toString()}`)).text()}render(t){if("dontRender"in t&&t.dontRender)return;this.validate(t);const e=document.getElementById(t.id)?.querySelector(t.selector)||document.getElementById(t.id);if(!e)return;const r=this.getInnerHtml(t.html,t.selector),n=e.outerHTML;e.outerHTML="function"==typeof t.convertor?t.convertor(n,r):r}renderMultiple(t){t.forEach((t=>this.render(t)))}getInnerHtml(t,e=".shopify-section"){return this.convertToDOM(t).querySelector(e).innerHTML}convertToDOM(t){return(new DOMParser).parseFromString(t,"text/html")}validate(t){const e=this.expectedKeys.every((e=>e in t));if(!e)throw new Error(`section is missing these keys: "${this.expectedKeys.filter((e=>!(e in t))).join(", ")}"`);return e}get expectedKeys(){return["id","selector","html"]}get sectionsUrl(){return`${window.location.pathname}${window.location.search}`}get popoutCartSections(){return window.location.pathname.includes("/cart")?[{id:"main-cart",section:"main-cart",selector:".shopify-section"},{id:"data-cart-count",section:"data-cart-count",selector:".shopify-section"}]:[{id:"cart-drawer-items",section:"cart-drawer-items",selector:".shopify-section"},{id:"data-cart-count",section:"data-cart-count",selector:".shopify-section"},{id:"cart-drawer-totals",section:"cart-drawer-totals",selector:".shopify-section"},{id:"cart-drawer-actions",section:"cart-drawer-actions",selector:".shopify-section"},{id:"data-add-to-cart-focus-product",section:"data-add-to-cart-focus-product",selector:".shopify-section"}]}};