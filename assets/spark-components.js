(()=>{var e={"./_build/scripts/components/card-product-subscription.js":()=>{function e(e){return[...e.entries()].filter((([e,t])=>e.includes("properties[")&&""!==t)).reduce((function(e,[t,r]){const s=t.replace("properties[","").slice(0,-1);return{...e,[s]:r}}),{})}customElements.get("card-subscription-product")||customElements.define("card-subscription-product",class extends HTMLElement{constructor(){super(),this.initSubscriptionVariantDropdown(),this.form=this.querySelector("form"),this.form&&this.form.addEventListener("submit",this.onSubmitHandler.bind(this))}initSubscriptionVariantDropdown(){const e=this.querySelector("[data-hidden-variant-id]"),t=this.querySelector("[data-sub-option-open]"),r=this.querySelector("[data-sub-option-list]");t&&r&&(t.addEventListener("click",(()=>{r.classList.toggle("hidden")})),Array.from(r.children).forEach((s=>{s.addEventListener("click",(()=>{r.classList.add("hidden"),t.querySelector("[data-selected-current]").innerHTML=s.querySelector("[data-variant-current]").innerHTML,t.querySelector("[data-selected-was]").innerHTML=s.querySelector("[data-variant-was]").innerHTML,t.querySelector("[data-selected-title]").innerHTML=s.querySelector("[data-variant-title]").innerHTML,t.querySelector("[data-selected-tagline]").innerHTML=s.querySelector("[data-variant-tagline]").innerHTML,s.querySelector("[data-variant-info]")?t.querySelector("[data-selected-info]").innerHTML=s.querySelector("[data-variant-info]").innerHTML:t.querySelector("[data-selected-info]").innerHTML="",""==s.querySelector("[data-variant-tagline]").innerHTML.trim()?t.querySelector("[data-selected-tagline]").classList.add("hidden"):t.querySelector("[data-selected-tagline]").classList.remove("hidden"),s.querySelector("[data-variant-info]")&&""!=s.querySelector("[data-variant-info]").innerHTML.trim()?t.querySelector("[data-selected-info]").classList.remove("hidden"):t.querySelector("[data-selected-info]").classList.add("hidden"),""==s.querySelector("[data-variant-savings]").innerHTML.trim()?t.querySelector("[data-selected-savings]").classList.add("hidden"):(t.querySelector("[data-selected-savings]").classList.remove("hidden"),t.querySelector("[data-selected-savings]").innerHTML=s.querySelector("[data-variant-savings]").innerHTML);const i=this.querySelector('[name="selling_plan"]'),n=s.getAttribute("data-selling-plan-id");null!=n?(i.removeAttribute("hidden"),i.value=n):(i.value="",i.hidden=!0),Array.from(r.children).forEach((e=>{e.classList.remove("active")})),s.classList.add("active"),e.value=s.dataset.variantId}))})))}async onSubmitHandler(t){t.preventDefault();const r=new FormData(t.target),s=Number(r.get("id"));let i=e(new FormData);const n=Number(r.get("selling_plan"))>0?Number(r.get("selling_plan")):null,o=Array.from(this.querySelector("[data-sub-option-list]").children).filter((e=>e.dataset.variantId==s))[0],a=!!o.querySelector("[data-bogo-enabled]");if(a&&(i=e(r)),o.dataset.freeGiftId){const e=Number(o.dataset.freeGiftId);if(a){const t=[{id:s,quantity:2,properties:i},{id:e,quantity:1,properties:{}}];await this.addMultiple(t)}else{const t=[{id:s,properties:i,selling_plan:n},{id:e,quantity:1,properties:{},selling_plan:null}];await this.addMultiple(t)}}else await this.addToCart({id:s,properties:i,sellingPlan:n},a)}async addToCart(e,t){let r=1;t&&(r=2);try{return window.Herd.Cart.addItem({id:e.id,quantity:r,properties:e.properties,sellingPlan:e.sellingPlan},this.form,{sections:window.Herd.utils.sectionRenderer.popoutCartSections.map((e=>e.section)),sectionsUrl:window.location.pathname+window.location.search})}catch(t){return this.handleAddToCartError(t,e)}}async addMultiple(e){try{return window.Herd.Cart.addItems(e,{sections:window.Herd.utils.sectionRenderer.popoutCartSections.map((e=>e.section)),sectionsUrl:window.location.pathname+window.location.search})}catch(t){return this.handleAddToCartError(t,e)}}async handleAddToCartError(e,t){}})},"./_build/scripts/components/cart-count.js":()=>{customElements.get("cart-count")||customElements.define("cart-count",class extends(window.Herd.SparkElement()){setupListeners(){super.setupListeners(),this.onCartChanged=this.onCartChanged.bind(this),window.Herd.eventBus.addEventListener(window.Herd.EVENTS.CART.AFTER_ADD,this.onCartChanged),window.Herd.eventBus.addEventListener(window.Herd.EVENTS.CART.AFTER_MULTIPLE_ADD,this.onCartChanged),window.Herd.eventBus.addEventListener(window.Herd.EVENTS.CART.AFTER_UPDATE_ITEM_QUANTITY,this.onCartChanged),window.Herd.eventBus.addEventListener(window.Herd.EVENTS.CART.AFTER_UPDATE_REMOVE_ITEM,this.onCartChanged)}onCartChanged(e){const{state:t}=e.detail;if(!t)return;if(!t.sections)return;if(!("data-cart-count"in t?.sections))return;const r=Number(this.getCount(t.sections["data-cart-count"]));this.textContent=r.toString(),this.setAttribute("aria-hidden",(0===r).toString())}getCount(e){const t=window.Herd.utils.sectionRenderer.convertToDOM(e).querySelector("[data-cart-count-integer]");return t?t.textContent:0}})},"./_build/scripts/components/drawer.js":()=>{customElements.get("spark-drawer")||customElements.define("spark-drawer",class extends window.Herd.SparkPopup{})},"./_build/scripts/components/info-modal.js":()=>{customElements.get("info-modal")||customElements.define("info-modal",class extends HTMLElement{constructor(){super(),this.setupListeners()}setupListeners(){const e=this.previousElementSibling,t=this.querySelector("[data-modal-close]"),r=document.querySelector("[data-theme-overlay]");e&&e.addEventListener("click",this.openModal.bind(this)),t&&t.addEventListener("click",this.closeModal.bind(this)),r&&r.addEventListener("click",this.closeModal.bind(this))}openModal(){"true"===this.getAttribute("data-is-open")?this.closeModal():(this.setAttribute("data-is-open",!0),window.lockScrolling(),window.setOverlay("active"))}closeModal(){this.removeAttribute("data-is-open"),window.unlockScrolling(),window.setOverlay()}})},"./_build/scripts/components/modal.js":()=>{customElements.get("spark-modal")||customElements.define("spark-modal",class extends window.Herd.SparkPopup{})},"./_build/scripts/components/popup.js":()=>{class e extends(window.Herd.SparkElement()){setupListeners(){super.setupListeners(),this.onClickTogglePopout=this.onClickTogglePopout.bind(this),this.onClickOpenPopout=this.onClickOpenPopout.bind(this),this.onClickClosePopout=this.onClickClosePopout.bind(this),this.externalEls?.toggle&&this.externalEls?.toggle.exists&&this.externalEls.toggle.elements.forEach((e=>{this.listeners.add(e,"click",this.onClickTogglePopout)})),this.externalEls?.open&&this.externalEls?.open.exists&&this.externalEls.open.elements.forEach((e=>{this.listeners.add(e,"click",this.onClickOpenPopout)})),this.els?.close&&this.els?.close.exists&&this.els.close.elements.forEach((e=>{this.listeners.add(e,"click",this.onClickClosePopout)})),this.externalEls?.overlay&&this.externalEls?.overlay.exists&&this.listeners.add(this.externalEls.overlay.element,"click",this.onClickClosePopout)}onClickOpenPopout(e){e.preventDefault(),this.openPopout()}onClickClosePopout(e){e.preventDefault(),this.closePopout()}onClickTogglePopout(e){e.preventDefault(),this.hasAttribute("data-is-open")?this.closePopout():this.openPopout()}onClickTogglePopout(e){e.preventDefault(),this.hasAttribute("data-is-open")?this.closePopout():this.openPopout()}openPopout(){this.setAttribute("data-is-open",!0),this.externalEls?.overlay&&this.externalEls?.overlay.exists&&this.externalEls.overlay.element.setAttribute("data-is-open",!0),window.lockScrolling()}closePopout(){this.removeAttribute("data-is-open"),this.externalEls?.overlay&&this.externalEls?.overlay.exists&&this.externalEls.overlay.element.removeAttribute("data-is-open"),window.unlockScrolling()}}window.Herd.SparkPopup=e,customElements.get("spark-popup")||customElements.define("spark-popup",e)},"./_build/scripts/components/quantity-input.js":()=>{customElements.get("quantity-input")||customElements.define("quantity-input",class extends HTMLElement{constructor(){super(),this.input=this.querySelector("input"),this.changeEvent=new Event("change",{bubbles:!0}),this.querySelectorAll("button").forEach((e=>{e.addEventListener("click",this.onButtonClick.bind(this))}))}connectedCallback(){}onButtonClick(e){e.preventDefault();const t=this.input.value;!!this.closest("cart-line-item").querySelector("[data-bogo-enabled]")?"plus"===e.currentTarget.name?(this.input.stepUp(),this.input.stepUp()):this.input.value>=2?(this.input.stepDown(),this.input.stepDown()):1==this.input.value?this.input.stepDown():this.input.value=0:"plus"===e.currentTarget.name?this.input.stepUp():this.input.stepDown(),t!==this.input.value&&this.input.dispatchEvent(this.changeEvent)}})},"./_build/scripts/components/quiz.js":(e,t,r)=>{"use strict";r.r(t);var s=r("./node_modules/@shopify/storefront-api-client/dist/index.mjs");class i extends(window.Herd.SparkElement()){constructor(){super(),this.steps=this.querySelectorAll("quiz-step"),this.formData=JSON.parse(this.dataset.formData),this.currentStep=0}connectedCallback(){this._hasBeenInitialised||(this._hasBeenInitialised=!0,this.showStep(this.currentStep),this.setupListeners())}setupListeners(){this.nextStep=this.nextStep.bind(this),this.prevStep=this.prevStep.bind(this),this.els.next&&this.els.next.elements.forEach((e=>{this.listeners.add(e,"click",this.nextStep)})),this.els.prev&&this.listeners.add(this.els.prev.element,"click",this.prevStep)}validateStep(e){let t=!0;const r=e.querySelector("[data-validation]"),s=e.querySelector("[data-validation-max-checks]");if(!("true"===e.getAttribute("data-requires-validation")))return!0;try{const i=e.querySelector("quiz-question");if(!i)return!0;const n=parseInt(i.dataset?.maxOptionSelection??"0",10),o=i.querySelectorAll(".form-input");let a=0;o.forEach((e=>{"checkbox"!==e.type&&"radio"!==e.type||!e.checked||a++}));const l=a>0;if(n>0&&a<=n&&a>0)return t=!0,s&&s.setAttribute("hidden",!0),t;if(s&&n>0)return t=!1,s.removeAttribute("hidden"),t;if(l){if(r)return t=!0,r.setAttribute("hidden",!0),t}else if(t=!1,r)return r.removeAttribute("hidden"),t;return t}catch(e){return!1}}prevStep(){0!==this.currentStep&&(this.currentStep--,this.checkStepPassesConditions(this.currentStep)?this.showStep(this.currentStep):this.prevStep())}nextStep(){const e=this.steps[this.currentStep];this.validateStep(e)&&(this.currentStep!==this.steps.length-1?(this.currentStep++,this.checkStepPassesConditions(this.currentStep)?this.showStep(this.currentStep):this.nextStep()):this.showResults())}checkStepPassesConditions(e){return this.steps[e].checkConditions()}showStep(e){this.steps.forEach(((t,r)=>{r===e?t.removeAttribute("hidden"):t.setAttribute("hidden",!0)}));this.els.progressBar.element.scrollIntoView(),this.updateProgressBar(),this.els.prev&&(0===e?this.els.prev.element.setAttribute("hidden",!0):this.els.prev.element.removeAttribute("hidden"))}updateProgressBar(){const e=this.steps.length,t=(this.currentStep+1)/e*100;this.els.progressBar.element.value=t}hideProgressBar(){this.els.progressBar.element.setAttribute("hidden",!0)}showResults(){this.els.next.element.setAttribute("hidden",!0),this.els.prev.element.setAttribute("hidden",!0),this.steps.forEach((e=>{e.setAttribute("hidden",!0)})),this.hideProgressBar();const e=this.querySelector("quiz-results");e.removeAttribute("hidden"),e.run()}}class n extends(window.Herd.SparkElement()){constructor(){super(),this.conditionalLogic=JSON.parse(this.dataset.conditionalLogic??"{}"),this.quizForm=this.closest("quiz-form")}checkConditions(){return!this.conditionalLogic||(0==this.conditionalLogic.conditions.length||("all"===this.conditionalLogic.match_type?this.conditionalLogic.conditions.every((e=>this.checkCondition(e))):this.conditionalLogic.conditions.some((e=>this.checkCondition(e)))))}checkCondition(e){const t=this.quizForm.querySelector(`quiz-question[key="${e.key}"]`);if(!t)return!1;switch(e.operator){case"equal_to":return t.value===e.value;case"not_equal_to":return t.value!==e.value;case"contains":return t.value.includes(e.value);case"does_not_contain":return!t.value.includes(e.value);case"starts_with":return t.value.startsWith(e.value);case"ends_with":return t.value.endsWith(e.value)}}}class o extends(window.Herd.SparkElement()){constructor(){super()}get value(){return this.getValueExtractor()}getValueExtractor(){switch(this.dataset.questionType){case"email":return this.getEmailValue();case"text":return this.getTextValue();case"radio":return this.getRadioValue();case"checkboxes":return this.getCheckboxesValue();default:return()=>!1}}getEmailValue(){return this.querySelector('input[type="email"]').value}getTextValue(){return this.querySelector('input[type="text"]').value}getRadioValue(){const e=this.querySelector('input[type="radio"]:checked');return e?e.value:null}getCheckboxesValue(){const e=this.querySelectorAll('input[type="checkbox"]:checked');return Array.from(e).map((e=>e.name))}}class a extends(window.Herd.SparkElement()){constructor(){super(),this.quizForm=this.closest("quiz-form"),this.client=(0,s.createStorefrontApiClient)({storeDomain:"https://naturalkik.myshopify.com",apiVersion:"2025-04",publicAccessToken:"fd1a28f413010d04670dbe3b5740c5cd"})}async run(){await this.renderResultsSection(),this.attachToggleListeners(),this.attachRemoveListeners(),this.updateOrderSummary()}attachToggleListeners(){this.querySelectorAll(".select-toggle").forEach((e=>{e.addEventListener("click",(()=>{if(e.classList.contains("locked"))return;const t="true"===e.dataset.selected,r=e.closest(".snippet-card-product-quiz"),s=r.dataset.variantId,i=e.querySelector("span");if(!t){e.dataset.selected="true",e.classList.add("selected"),e.setAttribute("aria-pressed","true"),i.textContent="Selected";const t=r.querySelector(`.remove-item[data-variant-id="${s}"]`);t&&(t.style.display="inline")}this.updateOrderSummary()}))}))}attachRemoveListeners(){this.querySelectorAll(".remove-item").forEach((e=>{const t=e.dataset.variantId;e.addEventListener("click",(e=>{const r=this.querySelector(`.snippet-card-product-quiz[data-variant-id="${t}"]`),s=r?.querySelector(".select-toggle"),i=r?.querySelector(`.remove-item[data-variant-id="${t}"]`),n=s.querySelector("span");s&&(s.dataset.selected="false",s.classList.remove("selected"),s.setAttribute("aria-pressed","false"),n.textContent="Add to Plan"),i&&(i.style.display="none"),this.updateOrderSummary()}))}))}async updateOrderSummary(){const e=[];this.querySelectorAll(".snippet-card-product-quiz").forEach((t=>{const r=t.querySelector(".select-toggle"),s=t.dataset.index;("true"===r.dataset.selected||"0"===s)&&e.push(t.dataset.variantId)}));const t=e.join(","),r=`https://www.hairburst.com?section_id=data-quiz-results&handles=${e.map((e=>{const t=this.querySelector(`.snippet-card-product-quiz[data-variant-id="${e}"]`);return t?.querySelector(".title")?.href.split("/products/")[1]||""})).filter(Boolean).join(",")}&ids=${t}`;try{const e=await window.Herd.utils.sectionRenderer.fetchSingle("data-quiz-results",r),t=document.createElement("div");t.innerHTML=e;const s=t.querySelector(".order-summary"),i=this.querySelector(".order-summary");s&&i&&(i.replaceWith(s),this.form=s.querySelector("form"),this.form.addEventListener("submit",this.onFormSubmission.bind(this)),this.attachRemoveListeners(),this.attachToggleListeners())}catch(e){}}getResultsFromForm(){const e={};return this.quizForm.steps.forEach((t=>{const r=t.querySelector("quiz-question");if(r){const t=r.value;e[r.key]=null==t?"":t}})),e}getWeightedVariantsFromResults(){const e=this.getResultsFromForm?.()??{},t=Array.isArray(this?.quizForm?.formData?.steps)?this.quizForm.formData.steps:[],r=new Map;return t.forEach(((t,s)=>{t&&!t.isFullStepContent&&Array.isArray(t.questions)&&t.questions.forEach(((t,s)=>{if(!t)return;const i=t.type,n=t.key;if(!n||!["checkboxes","radio"].includes(i))return;const o=e[n];if(null==o||Array.isArray(o)&&0===o.length)return;const a=Array.isArray(o)?o.filter(Boolean):[o];Array.isArray(t.options)&&a.forEach((e=>{const s=t.options.find((t=>t&&t.value===e));if(!s)return;const i=Array.isArray(s.recommendedProducts)?s.recommendedProducts:[];0!==i.length&&i.forEach(((e,t)=>{const s=String(e?.variantId??"").trim(),i=Number.isFinite(e?.weight)?e.weight:0;s&&r.set(s,(r.get(s)??0)+i)}))}))}))})),r.size,[...r.entries()].sort(((e,t)=>t[1]-e[1])).map((([e])=>e))}async getVariantsFromStrorefrontApi(){const e=this.getWeightedVariantsFromResults(),{data:t,errors:r,extensions:s}=await this.client.request("\n      query ($ids: [ID!]!) {\n        nodes(ids: $ids) {\n          ... on ProductVariant {\n            id\n            product {\n              handle\n              productType\n            }\n          }\n        }\n      }\n    ",{variables:{ids:this.mapShopifyVariantIds(e)}});return t.nodes}async getVariantsByProductType(){const e=await this.getVariantsFromStrorefrontApi(),t=this.quizForm.formData.results.productTypeList,r=[];return t.forEach((t=>{e.filter((e=>e&&e.product.productType===t.productType)).slice(0,t.quantity).forEach((e=>{r.push({handle:e.product.handle,id:e.id})}))})),r}async fetchResultsSection(){const e=await this.getVariantsByProductType(),t=this.getCommaSeparatedValues(e,"handle"),r=this.getCommaSeparatedValues(e,"id",!0);return await window.Herd.utils.sectionRenderer.fetchSingle("data-quiz-results",`https://www.hairburst.com?handles=${t}&ids=${r}`)}getCommaSeparatedValues(e,t,r=!1){return e.map((e=>{let s=e[t];return r&&"string"==typeof s&&(s=s.replace(/^gid:\/\/shopify\/ProductVariant\//,"")),s})).filter((e=>null!=e)).join(",")}async renderResultsSection(){const e=await this.fetchResultsSection();this.innerHTML=e,this.initRatingSnippet(),this.form=this.querySelector("form"),this.form.addEventListener("submit",this.onFormSubmission.bind(this))}initRatingSnippet(){this.querySelectorAll(".ruk_rating_snippet").length>0&&ratingSnippet("ruk_rating_snippet",{store:"naturalkik.myshopify.com",mode:"default",color:"#343436",linebreak:!1,text:"reviews",singularText:"review",lang:"en",usePolaris:!1,showEmptyStars:!1})}mapShopifyVariantIds(e){return e.map((e=>`gid://shopify/ProductVariant/${e}`))}onFormSubmission(e){e.preventDefault();try{return window.Herd.Cart.addItems(this.createItemData(),{sections:window.Herd.utils.sectionRenderer.popoutCartSections.map((e=>e.section)),sectionsUrl:window.location.pathname})}catch(e){return this.handleAddToCartError(e,this.createItemData())}}async handleAddToCartError(e,t){}createItemData(){return this.form.dataset.variantIds.split(",").reduce(((e,t)=>(e.push({id:t,quantity:1}),e)),[])}}customElements.get("quiz-form")||customElements.define("quiz-form",i),customElements.get("quiz-step")||customElements.define("quiz-step",n),customElements.get("quiz-question")||customElements.define("quiz-question",o),customElements.get("quiz-results")||customElements.define("quiz-results",a)},"./_build/scripts/components/tabs.js":()=>{customElements.get("spark-tabs")||customElements.define("spark-tabs",class extends HTMLElement{constructor(){super(),this.tabs=this.querySelectorAll('[role="tab"]'),this.tabList=this.querySelector('[role="tablist"]'),this.sliders=this.querySelectorAll(".swiper"),this.tabPanels=this.querySelectorAll('[role="tabpanel"]'),this.currentTabFocus=0,this.tabs.forEach((e=>{e.addEventListener("click",this.onTabClick.bind(this))})),this.tabList.addEventListener("keydown",this.onTabListKeydown.bind(this))}onTabClick(e){this.changeTab(e.target.getAttribute("aria-controls"))}onTabListKeydown(e){"ArrowRight"!==e.key&&"ArrowLeft"!==e.key||(this.tabs[this.currentTabFocus].setAttribute("tabindex",-1),"ArrowRight"===e.key?(this.currentTabFocus++,this.currentTabFocus>=this.tabs.length&&(this.currentTabFocus=0)):"ArrowLeft"===e.key&&(this.currentTabFocus--,this.currentTabFocus<0&&(this.currentTabFocus=this.tabs.length-1)),this.tabs[this.currentTabFocus].setAttribute("tabindex",0),this.tabs[this.currentTabFocus].focus())}changeTab(e){this.querySelectorAll('[aria-selected="true"]').forEach((e=>e.setAttribute("aria-selected",!1))),this.querySelector(`[aria-controls="${e}"]`).setAttribute("aria-selected",!0),this.querySelectorAll('[role="tabpanel"]').forEach((e=>e.hidden=!0)),this.querySelector(`#${e}`).hidden=!1,this.sliders&&this.sliders.forEach((e=>{e.swiper.update()}))}})},"./_build/scripts/components/territory-switcher.js":()=>{customElements.get("territory-switcher")||customElements.define("territory-switcher",class extends HTMLElement{constructor(){super(),this.toggleElement=this.querySelector("[data-territory-switcher-toggle]"),this.dropdownElement=this.querySelector("[data-territory-switcher-dropdown]"),this.valueElement=this.querySelector("[data-territory-switcher-value]"),this.initSwitcherEvents()}initSwitcherEvents(){this.dropdownElement.addEventListener("click",(e=>{e.stopPropagation()})),this.toggleElement.addEventListener("click",(e=>{e.stopImmediatePropagation(),this.toggleDropdown()}))}toggleDropdown(){"true"!==this.toggleElement.getAttribute("aria-expanded")?this.activateDropdown():this.deactivateDropdown()}closeDropdownOnNextClick(){this.deactivateDropdown(),document.body.removeEventListener("click",this.closeDropdownOnNextClick)}activateDropdown(){this.classList.add("is-active"),this.toggleElement.setAttribute("aria-expanded",!0),this.dropdownElement.classList.add("is-visible"),document.body.addEventListener("click",this.closeDropdownOnNextClick)}deactivateDropdown(){this.classList.remove("is-active"),this.toggleElement.setAttribute("aria-expanded",!1),this.dropdownElement.classList.remove("is-visible")}})},"./node_modules/@shopify/graphql-client/dist/api-client-utilities/api-versions.mjs":(e,t,r)=>{"use strict";function s(e){const t=3*e-2;return 10===t?t:`0${t}`}function i(e,t,r){const i=t-r;return i<=0?`${e-1}-${s(i+4)}`:`${e}-${s(i)}`}function n(){const e=new Date,t=e.getUTCMonth(),r=e.getUTCFullYear(),i=Math.floor(t/3+1);return{year:r,quarter:i,version:`${r}-${s(i)}`}}function o(){const{year:e,quarter:t,version:r}=n(),o=4===t?`${e+1}-01`:`${e}-${s(t+1)}`;return[i(e,t,3),i(e,t,2),i(e,t,1),r,o,"unstable"]}r.r(t),r.d(t,{getCurrentApiVersion:()=>n,getCurrentSupportedApiVersions:()=>o})},"./node_modules/@shopify/graphql-client/dist/api-client-utilities/utilities.mjs":(e,t,r)=>{"use strict";function s(e){return t=>({...t??{},...e.headers})}function i({getHeaders:e,getApiUrl:t}){return(r,s)=>{const i=[r];if(s&&Object.keys(s).length>0){const{variables:r,apiVersion:n,headers:o,retries:a}=s;i.push({...r?{variables:r}:{},...o?{headers:e(o)}:{},...n?{url:t(n)}:{},...a?{retries:a}:{}})}return i}}r.r(t),r.d(t,{generateGetGQLClientParams:()=>i,generateGetHeaders:()=>s})},"./node_modules/@shopify/graphql-client/dist/api-client-utilities/validations.mjs":(e,t,r)=>{"use strict";function s({client:e,storeDomain:t}){try{if(!t||"string"!=typeof t)throw new Error;const e=t.trim(),r=e.match(/^https?:/)?e:`https://${e}`,s=new URL(r);return s.protocol="https",s.origin}catch(r){throw new Error(`${e}: a valid store domain ("${t}") must be provided`,{cause:r})}}function i({client:e,currentSupportedApiVersions:t,apiVersion:r,logger:s}){const i=`${e}: the provided apiVersion ("${r}")`,n=`Currently supported API versions: ${t.join(", ")}`;if(!r||"string"!=typeof r)throw new Error(`${i} is invalid. ${n}`);const o=r.trim();t.includes(o)||s&&s({type:"Unsupported_Api_Version",content:{apiVersion:r,supportedApiVersions:t}})}r.r(t),r.d(t,{validateApiVersion:()=>i,validateDomainAndGetStoreUrl:()=>s})},"./node_modules/@shopify/graphql-client/dist/graphql-client/constants.mjs":(e,t,r)=>{"use strict";r.r(t),r.d(t,{BOUNDARY_HEADER_REGEX:()=>f,CLIENT:()=>s,CONTENT_TYPES:()=>c,DEFAULT_CLIENT_VERSION:()=>h,DEFAULT_SDK_VARIANT:()=>p,DEFER_OPERATION_REGEX:()=>g,GQL_API_ERROR:()=>o,HEADER_SEPARATOR:()=>S,MAX_RETRIES:()=>n,MIN_RETRIES:()=>i,NEWLINE_SEPARATOR:()=>y,NO_DATA_OR_ERRORS_ERROR:()=>l,RETRIABLE_STATUS_CODES:()=>E,RETRY_WAIT_TIME:()=>m,SDK_VARIANT_HEADER:()=>d,SDK_VERSION_HEADER:()=>u,UNEXPECTED_CONTENT_TYPE_ERROR:()=>a});const s="GraphQL Client",i=0,n=3,o="An error occurred while fetching from the API. Review 'graphQLErrors' for details.",a="Response returned unexpected Content-Type:",l="An unknown error has occurred. The API did not return a data object or any errors in its response.",c={json:"application/json",multipart:"multipart/mixed"},d="X-SDK-Variant",u="X-SDK-Version",p="shopify-graphql-client",h="1.2.1",m=1e3,E=[429,503],g=/@(defer)\b/i,y="\r\n",f=/boundary="?([^=";]+)"?/i,S=y+y},"./node_modules/@shopify/graphql-client/dist/graphql-client/graphql-client.mjs":(e,t,r)=>{"use strict";r.r(t),r.d(t,{createGraphQLClient:()=>o,generateClientLogger:()=>a});var s=r("./node_modules/@shopify/graphql-client/dist/graphql-client/http-fetch.mjs"),i=r("./node_modules/@shopify/graphql-client/dist/graphql-client/constants.mjs"),n=r("./node_modules/@shopify/graphql-client/dist/graphql-client/utilities.mjs");function o({headers:e,url:t,customFetchApi:r=fetch,retries:o=0,logger:u}){(0,n.validateRetries)({client:i.CLIENT,retries:o});const p={headers:e,url:t,retries:o},h=a(u),m=function(e,{url:t,headers:r,retries:s}){return async(o,a={})=>{const{variables:l,headers:c,url:d,retries:u,signal:p}=a,h=JSON.stringify({query:o,variables:l});(0,n.validateRetries)({client:i.CLIENT,retries:u});const m=Object.entries({...r,...c}).reduce(((e,[t,r])=>(e[t]=Array.isArray(r)?r.join(", "):r.toString(),e)),{});m[i.SDK_VARIANT_HEADER]||m[i.SDK_VERSION_HEADER]||(m[i.SDK_VARIANT_HEADER]=i.DEFAULT_SDK_VARIANT,m[i.SDK_VERSION_HEADER]=i.DEFAULT_CLIENT_VERSION);return e([d??t,{method:"POST",headers:m,body:h,signal:p}],1,u??s)}}((0,s.generateHttpFetch)({customFetchApi:r,clientLogger:h,defaultRetryWaitTime:i.RETRY_WAIT_TIME}),p),E=function(e){return async(...t)=>{if(i.DEFER_OPERATION_REGEX.test(t[0]))throw new Error((0,n.formatErrorMessage)("This operation will result in a streamable response - use requestStream() instead."));try{const r=await e(...t),{status:s,statusText:o}=r,a=r.headers.get("content-type")||"";return r.ok?a.includes(i.CONTENT_TYPES.json)?l(r):{errors:{networkStatusCode:s,message:(0,n.formatErrorMessage)(`${i.UNEXPECTED_CONTENT_TYPE_ERROR} ${a}`),response:r}}:{errors:{networkStatusCode:s,message:(0,n.formatErrorMessage)(o),response:r}}}catch(e){return{errors:{message:(0,n.getErrorMessage)(e)}}}}}(m),g=function(e){return async(...t)=>{if(!i.DEFER_OPERATION_REGEX.test(t[0]))throw new Error((0,n.formatErrorMessage)("This operation does not result in a streamable response - use request() instead."));try{const r=await e(...t),{statusText:s}=r;if(!r.ok)throw new Error(s,{cause:r});const o=r.headers.get("content-type")||"";switch(!0){case o.includes(i.CONTENT_TYPES.json):return function(e){return{async*[Symbol.asyncIterator](){const t=await l(e);yield{...t,hasNext:!1}}}}(r);case o.includes(i.CONTENT_TYPES.multipart):return function(e,t){const r=(t??"").match(i.BOUNDARY_HEADER_REGEX),s=`--${r?r[1]:"-"}`;if(!e.body?.getReader&&!e.body[Symbol.asyncIterator])throw new Error("API multipart response did not return an iterable body",{cause:e});const o=async function*(e){const t=new TextDecoder;if(e.body[Symbol.asyncIterator])for await(const r of e.body)yield t.decode(r);else{const r=e.body.getReader();let s;try{for(;!(s=await r.read()).done;)yield t.decode(s.value)}finally{r.cancel()}}}(e);let a,l={};return{async*[Symbol.asyncIterator](){try{let e=!0;for await(const t of function(e,t){return{async*[Symbol.asyncIterator](){try{let r="";for await(const s of e)if(r+=s,r.indexOf(t)>-1){const e=r.lastIndexOf(t),s=r.slice(0,e).split(t).filter((e=>e.trim().length>0)).map((e=>e.slice(e.indexOf(i.HEADER_SEPARATOR)+i.HEADER_SEPARATOR.length).trim()));s.length>0&&(yield s),r=r.slice(e+t.length),"--"===r.trim()&&(r="")}}catch(e){throw new Error(`Error occured while processing stream payload - ${(0,n.getErrorMessage)(e)}`)}}}}(o,s)){const r=c(t);a=r.find((e=>e.extensions))?.extensions??a;const s=(0,n.combineErrors)(r);l=(0,n.buildCombinedDataObject)([l,...r.map((({data:e})=>e))]),e=r.slice(-1)[0].hasNext,d(s,l),yield{...(0,n.getKeyValueIfValid)("data",l),...(0,n.getKeyValueIfValid)("extensions",a),hasNext:e}}if(e)throw new Error("Response stream terminated unexpectedly")}catch(t){const r=(0,n.getErrorCause)(t);yield{...(0,n.getKeyValueIfValid)("data",l),...(0,n.getKeyValueIfValid)("extensions",a),errors:{message:(0,n.formatErrorMessage)((0,n.getErrorMessage)(t)),networkStatusCode:e.status,...(0,n.getKeyValueIfValid)("graphQLErrors",r?.graphQLErrors),response:e},hasNext:!1}}}}}(r,o);default:throw new Error(`${i.UNEXPECTED_CONTENT_TYPE_ERROR} ${o}`,{cause:r})}}catch(e){return{async*[Symbol.asyncIterator](){const t=(0,n.getErrorCause)(e);yield{errors:{message:(0,n.formatErrorMessage)((0,n.getErrorMessage)(e)),...(0,n.getKeyValueIfValid)("networkStatusCode",t?.status),...(0,n.getKeyValueIfValid)("response",t)},hasNext:!1}}}}}}(m);return{config:p,fetch:m,request:E,requestStream:g}}function a(e){return t=>{e&&e(t)}}async function l(e){const{errors:t,data:r,extensions:s}=await e.json();return{...(0,n.getKeyValueIfValid)("data",r),...(0,n.getKeyValueIfValid)("extensions",s),headers:e.headers,...t||!r?{errors:{networkStatusCode:e.status,message:(0,n.formatErrorMessage)(t?i.GQL_API_ERROR:i.NO_DATA_OR_ERRORS_ERROR),...(0,n.getKeyValueIfValid)("graphQLErrors",t),response:e}}:{}}}function c(e){return e.map((e=>{try{return JSON.parse(e)}catch(e){throw new Error(`Error in parsing multipart response - ${(0,n.getErrorMessage)(e)}`)}})).map((e=>{const{data:t,incremental:r,hasNext:s,extensions:i,errors:o}=e;if(!r)return{data:t||{},...(0,n.getKeyValueIfValid)("errors",o),...(0,n.getKeyValueIfValid)("extensions",i),hasNext:s};const a=r.map((({data:e,path:t,errors:r})=>({data:e&&t?(0,n.buildDataObjectByPath)(t,e):{},...(0,n.getKeyValueIfValid)("errors",r)})));return{data:1===a.length?a[0].data:(0,n.buildCombinedDataObject)([...a.map((({data:e})=>e))]),...(0,n.getKeyValueIfValid)("errors",(0,n.combineErrors)(a)),hasNext:s}}))}function d(e,t){if(e.length>0)throw new Error(i.GQL_API_ERROR,{cause:{graphQLErrors:e}});if(0===Object.keys(t).length)throw new Error(i.NO_DATA_OR_ERRORS_ERROR)}},"./node_modules/@shopify/graphql-client/dist/graphql-client/http-fetch.mjs":(e,t,r)=>{"use strict";r.r(t),r.d(t,{generateHttpFetch:()=>n});var s=r("./node_modules/@shopify/graphql-client/dist/graphql-client/constants.mjs"),i=r("./node_modules/@shopify/graphql-client/dist/graphql-client/utilities.mjs");function n({clientLogger:e,customFetchApi:t=fetch,client:r=s.CLIENT,defaultRetryWaitTime:n=s.RETRY_WAIT_TIME,retriableCodes:o=s.RETRIABLE_STATUS_CODES}){const a=async(s,l,c)=>{const d=l+1,u=c+1;let p;try{if(p=await t(...s),e({type:"HTTP-Response",content:{requestParams:s,response:p}}),!p.ok&&o.includes(p.status)&&d<=u)throw new Error;return p}catch(t){if(d<=u){const t=p?.headers.get("Retry-After");return await async function(e){return new Promise((t=>setTimeout(t,e)))}(t?parseInt(t,10):n),e({type:"HTTP-Retry",content:{requestParams:s,lastResponse:p,retryAttempt:l,maxRetries:c}}),a(s,d,c)}throw new Error((0,i.formatErrorMessage)(`${c>0?`Attempted maximum number of ${c} network retries. Last message - `:""}${(0,i.getErrorMessage)(t)}`,r))}};return a}},"./node_modules/@shopify/graphql-client/dist/graphql-client/utilities.mjs":(e,t,r)=>{"use strict";r.r(t),r.d(t,{buildCombinedDataObject:()=>p,buildDataObjectByPath:()=>d,combineErrors:()=>a,formatErrorMessage:()=>i,getErrorCause:()=>o,getErrorMessage:()=>n,getKeyValueIfValid:()=>c,validateRetries:()=>l});var s=r("./node_modules/@shopify/graphql-client/dist/graphql-client/constants.mjs");function i(e,t=s.CLIENT){return e.startsWith(`${t}`)?e:`${t}: ${e}`}function n(e){return e instanceof Error?e.message:JSON.stringify(e)}function o(e){return e instanceof Error&&e.cause?e.cause:void 0}function a(e){return e.flatMap((({errors:e})=>e??[]))}function l({client:e,retries:t}){if(void 0!==t&&("number"!=typeof t||t<s.MIN_RETRIES||t>s.MAX_RETRIES))throw new Error(`${e}: The provided "retries" value (${t}) is invalid - it cannot be less than ${s.MIN_RETRIES} or greater than ${s.MAX_RETRIES}`)}function c(e,t){return t&&("object"!=typeof t||Array.isArray(t)||"object"==typeof t&&Object.keys(t).length>0)?{[e]:t}:{}}function d(e,t){if(0===e.length)return t;const r=e.pop(),s={[r]:t};return 0===e.length?s:d(e,s)}function u(e,t){return Object.keys(t||{}).reduce(((r,s)=>("object"==typeof t[s]||Array.isArray(t[s]))&&e[s]?(r[s]=u(e[s],t[s]),r):(r[s]=t[s],r)),Array.isArray(e)?[...e]:{...e})}function p([e,...t]){return t.reduce(u,{...e})}},"./node_modules/@shopify/graphql-client/dist/index.mjs":(e,t,r)=>{"use strict";r.r(t),r.d(t,{createGraphQLClient:()=>s.createGraphQLClient,generateGetGQLClientParams:()=>l.generateGetGQLClientParams,generateGetHeaders:()=>l.generateGetHeaders,generateHttpFetch:()=>a.generateHttpFetch,getCurrentApiVersion:()=>o.getCurrentApiVersion,getCurrentSupportedApiVersions:()=>o.getCurrentSupportedApiVersions,getErrorMessage:()=>i.getErrorMessage,validateApiVersion:()=>n.validateApiVersion,validateDomainAndGetStoreUrl:()=>n.validateDomainAndGetStoreUrl,validateRetries:()=>i.validateRetries});var s=r("./node_modules/@shopify/graphql-client/dist/graphql-client/graphql-client.mjs"),i=r("./node_modules/@shopify/graphql-client/dist/graphql-client/utilities.mjs"),n=r("./node_modules/@shopify/graphql-client/dist/api-client-utilities/validations.mjs"),o=r("./node_modules/@shopify/graphql-client/dist/api-client-utilities/api-versions.mjs"),a=r("./node_modules/@shopify/graphql-client/dist/graphql-client/http-fetch.mjs"),l=r("./node_modules/@shopify/graphql-client/dist/api-client-utilities/utilities.mjs")},"./node_modules/@shopify/storefront-api-client/dist/constants.mjs":(e,t,r)=>{"use strict";r.r(t),r.d(t,{CLIENT:()=>u,DEFAULT_CLIENT_VERSION:()=>n,DEFAULT_CONTENT_TYPE:()=>s,DEFAULT_SDK_VARIANT:()=>i,PRIVATE_ACCESS_TOKEN_HEADER:()=>a,PUBLIC_ACCESS_TOKEN_HEADER:()=>o,SDK_VARIANT_HEADER:()=>l,SDK_VARIANT_SOURCE_HEADER:()=>d,SDK_VERSION_HEADER:()=>c});const s="application/json",i="storefront-api-client",n="1.0.3",o="X-Shopify-Storefront-Access-Token",a="Shopify-Storefront-Private-Token",l="X-SDK-Variant",c="X-SDK-Version",d="X-SDK-Variant-Source",u="Storefront API Client"},"./node_modules/@shopify/storefront-api-client/dist/index.mjs":(e,t,r)=>{"use strict";r.r(t),r.d(t,{createStorefrontApiClient:()=>s.createStorefrontApiClient});var s=r("./node_modules/@shopify/storefront-api-client/dist/storefront-api-client.mjs")},"./node_modules/@shopify/storefront-api-client/dist/storefront-api-client.mjs":(e,t,r)=>{"use strict";r.r(t),r.d(t,{createStorefrontApiClient:()=>o});var s=r("./node_modules/@shopify/graphql-client/dist/index.mjs"),i=r("./node_modules/@shopify/storefront-api-client/dist/constants.mjs"),n=r("./node_modules/@shopify/storefront-api-client/dist/validations.mjs");function o({storeDomain:e,apiVersion:t,publicAccessToken:r,privateAccessToken:o,clientName:a,retries:l=0,customFetchApi:c,logger:d}){const u=(0,s.getCurrentSupportedApiVersions)(),p=(0,s.validateDomainAndGetStoreUrl)({client:i.CLIENT,storeDomain:e}),h={client:i.CLIENT,currentSupportedApiVersions:u,logger:d};(0,s.validateApiVersion)({...h,apiVersion:t}),(0,n.validateRequiredAccessTokens)(r,o),(0,n.validatePrivateAccessTokenUsage)(o);const m=function(e,t,r){return i=>{i&&(0,s.validateApiVersion)({...r,apiVersion:i});const n=(i??t).trim();return`${e}/api/${n}/graphql.json`}}(p,t,h),E={storeDomain:p,apiVersion:t,...r?{publicAccessToken:r}:{privateAccessToken:o},headers:{"Content-Type":i.DEFAULT_CONTENT_TYPE,Accept:i.DEFAULT_CONTENT_TYPE,[i.SDK_VARIANT_HEADER]:i.DEFAULT_SDK_VARIANT,[i.SDK_VERSION_HEADER]:i.DEFAULT_CLIENT_VERSION,...a?{[i.SDK_VARIANT_SOURCE_HEADER]:a}:{},...r?{[i.PUBLIC_ACCESS_TOKEN_HEADER]:r}:{[i.PRIVATE_ACCESS_TOKEN_HEADER]:o}},apiUrl:m(),clientName:a},g=(0,s.createGraphQLClient)({headers:E.headers,url:E.apiUrl,retries:l,customFetchApi:c,logger:d}),y=(0,s.generateGetHeaders)(E),f=function(e,t){return r=>r?t(r):e.apiUrl}(E,m),S=(0,s.generateGetGQLClientParams)({getHeaders:y,getApiUrl:f}),A={config:E,getHeaders:y,getApiUrl:f,fetch:(...e)=>g.fetch(...S(...e)),request:(...e)=>g.request(...S(...e)),requestStream:(...e)=>g.requestStream(...S(...e))};return Object.freeze(A)}},"./node_modules/@shopify/storefront-api-client/dist/validations.mjs":(e,t,r)=>{"use strict";r.r(t),r.d(t,{validatePrivateAccessTokenUsage:()=>i,validateRequiredAccessTokens:()=>n});var s=r("./node_modules/@shopify/storefront-api-client/dist/constants.mjs");function i(e){if(e&&"undefined"!=typeof window)throw new Error(`${s.CLIENT}: private access tokens and headers should only be used in a server-to-server implementation. Use the public API access token in nonserver environments.`)}function n(e,t){if(!e&&!t)throw new Error(`${s.CLIENT}: a public or private access token must be provided`);if(e&&t)throw new Error(`${s.CLIENT}: only provide either a public or private access token`)}}},t={};function r(s){var i=t[s];if(void 0!==i)return i.exports;var n=t[s]={exports:{}};return e[s](n,n.exports,r),n.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var s in t)r.o(t,s)&&!r.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var s={};(()=>{"use strict";r.r(s);r("./_build/scripts/components/quantity-input.js"),r("./_build/scripts/components/cart-count.js"),r("./_build/scripts/components/popup.js"),r("./_build/scripts/components/drawer.js"),r("./_build/scripts/components/tabs.js"),r("./_build/scripts/components/info-modal.js"),r("./_build/scripts/components/modal.js"),r("./_build/scripts/components/territory-switcher.js"),r("./_build/scripts/components/card-product-subscription.js"),r("./_build/scripts/components/quiz.js")})()})();