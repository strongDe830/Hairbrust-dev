(()=>{class e extends HTMLElement{constructor(){super(),this._hasBeenInitialised=!1}connectedCallback(){this._hasBeenInitialised||(this._hasBeenInitialised=!0,this.initCompProducts())}initCompProducts(){new IntersectionObserver(((e,t)=>{if(!e[0].isIntersecting)return;t.unobserve(this);const i=this.dataset.url;fetch(i).then((e=>e.text())).then((e=>{const t=document.createElement("div");t.innerHTML=e;const i=t.querySelector(".layout-related-products");i&&i.innerHTML.trim().length&&(this.innerHTML=i.innerHTML),this.loadSlider()})).catch((e=>{}))}),{rootMargin:"0px",threshold:1}).observe(this)}loadSlider(){window.theme.Swiper?this.initSlider():document.addEventListener("theme:inititialised",(()=>{this.initSlider()}),{once:!0})}initSlider(){const e=this.querySelector("[data-lcp-slider]"),t=window.matchMedia(`(min-width: ${window.theme.breakpoints.lg}px)`);if(e)if(e.classList.contains("js-is-vertical")&&t.matches)new window.theme.Swiper(e,{direction:"vertical",slidesPerView:"auto",spaceBetween:16,freeMode:!0,mousewheel:!0});else if(!e.classList.contains("js-is-vertical")){const t=e.querySelector("[data-slider-prev]"),i=e.querySelector("[data-slider-next]");new window.theme.Swiper(e,{slidesPerView:1.3,spaceBetween:16,navigation:{prevEl:t,nextEl:i},breakpoints:{[window.theme.breakpoints.sm]:{slidesPerView:2.5},[window.theme.breakpoints.lg]:{slidesPerView:4}}})}}}customElements.get("related-products")||customElements.define("related-products",e)})();