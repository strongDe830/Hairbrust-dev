customElements.get("cart-count")||customElements.define("cart-count",class extends(window.Herd.SparkElement()){setupListeners(){super.setupListeners(),this.onCartChanged=this.onCartChanged.bind(this),window.Herd.eventBus.addEventListener(window.Herd.EVENTS.CART.AFTER_ADD,this.onCartChanged),window.Herd.eventBus.addEventListener(window.Herd.EVENTS.CART.AFTER_MULTIPLE_ADD,this.onCartChanged),window.Herd.eventBus.addEventListener(window.Herd.EVENTS.CART.AFTER_UPDATE_ITEM_QUANTITY,this.onCartChanged),window.Herd.eventBus.addEventListener(window.Herd.EVENTS.CART.AFTER_UPDATE_REMOVE_ITEM,this.onCartChanged)}onCartChanged(t){const{state:e}=t.detail;if(!e)return;if(!e.sections)return;if(!("data-cart-count"in e?.sections))return;const n=Number(this.getCount(e.sections["data-cart-count"]));this.textContent=n.toString(),this.setAttribute("aria-hidden",(0===n).toString())}getCount(t){const e=window.Herd.utils.sectionRenderer.convertToDOM(t).querySelector("[data-cart-count-integer]");return e?e.textContent:0}});